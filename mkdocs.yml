# yaml-language-server: $schema=https://squidfunk.github.io/mkdocs-material/schema.json

# Project information
site_name: Locust Kubernetes Operator
site_author: Abdelrhman Hamouda
site_description: Production-ready Kubernetes operator for Locust distributed load testing. Automate performance testing with cloud-native CI/CD integration, OpenTelemetry observability, and horizontal scaling.

# Repository
repo_name: locust-k8s-operator
repo_url: https://github.com/AbdelrhmanHamouda/locust-k8s-operator
edit_uri: edit/docs/improve/docs/

# Site URL (required for instant navigation)
site_url: https://abdelrhmanhamouda.github.io/locust-k8s-operator/

# Copyright
copyright: >
  Copyright &copy; 2026 Abdelrhman Hamouda –
  <a href="#__consent">Change cookie settings</a>

# Plugins
# Note: mkdocs-redirects and mkdocs-minify-plugin are pip dependencies (see CI workflows)
plugins:
  - search
  - git-revision-date-localized
  - privacy
  - redirects:
      redirect_maps:
        # Redirect mappings for Phase 19 IA restructure
        # Will be activated when pages physically move to new directories
        # See docs/migration.md for the full URL change mapping table
  - tags
  - minify:
      minify_html: true
      minify_js: true
      minify_css: true
      htmlmin_opts:
        remove_comments: true
        remove_empty_space: true
      cache_safe: true

# Configuration
theme:
  name: material
  favicon: assets/images/favicon.png

  icon:
    logo: material/kubernetes
    repo: material/github
    # Tag icons (optional)
    tag:
      docs: fontawesome/solid/book
      api: fontawesome/solid/code
      tutorial: fontawesome/solid/graduation-cap
      guide: fontawesome/solid/map

  features:
    # Search
    - search.highlight
    - search.share
    - search.suggest

    # Navigation
    - navigation.instant          # SPA-like behavior (no full page reloads)
    - navigation.instant.prefetch # Predictive loading on hover
    - navigation.instant.progress # Progress bar for slow connections
    - navigation.tracking
    - navigation.top
    - navigation.footer
    - navigation.indexes
    - navigation.prune

    # Table of content
    - toc.follow
    - toc.integrate

    # Code
    - content.code.annotate
    - content.code.copy

    # Tabs
    - content.tabs.link

    # Other features
    - header.autohide
    - content.action.edit         # GitHub edit button on pages
    - content.action.view         # GitHub view source button on pages

  palette:
    # Palette toggle for light mode
    - media: "(prefers-color-scheme: light)"
      scheme: default
      primary: green
      accent: teal
      toggle:
        icon: material/weather-night
        name: Switch to dark mode

    # Palette toggle for dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      primary: green
      accent: teal
      toggle:
        icon: material/weather-sunny
        name: Switch to light mode

# Extra CSS and JavaScript
extra_css:
  - assets/stylesheets/extra.css

extra_javascript:
  - assets/javascripts/scroll-effects.js
  - assets/javascripts/custom-announcements.js
  - assets/javascripts/schema-org.js

# Customization
extra:
  # Version dropdown configuration
  version:
    provider: mike
    default: latest

  # Tag configuration (optional - for tag icons)
  tags:
    Documentation: docs
    API: api
    Tutorial: tutorial
    Guide: guide

  consent:
    title: Cookie consent
    actions:
      - manage
      - accept
      - reject
    description: >-
      We use cookies to recognize your repeated visits and preferences, as well
      as to measure the effectiveness of our documentation and whether users
      find what they're searching for. With your consent, you're helping us to
      make our documentation better.

  social:

    # DockerHub
    - icon: fontawesome/brands/docker
      link: https://hub.docker.com/r/lotest/locust-k8s-operator
      name: Locust operator on DockerHub

    # LinkedIn
    - icon: fontawesome/brands/linkedin
      link: https://www.linkedin.com/in/abdelrhman-ahmed91/
      name: Abdelrhman Hamouda on LinkedIn

    # GitHub
    - icon: fontawesome/brands/github
      link: https://github.com/AbdelrhmanHamouda
      name: Abdelrhman Hamouda on GitHub

    # Bug
    - icon: fontawesome/solid/bug
      link: https://github.com/AbdelrhmanHamouda/locust-k8s-operator/issues
      name: Report a bug!

# Extensions
markdown_extensions:

  # Python Markdown
  - abbr
  - admonition
  - tables
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - toc:
      permalink: ⚓
      permalink_title: Anchor link to this section for reference

  # Python Markdown Extensions
  - pymdownx.arithmatex:
      generic: true
  - pymdownx.betterem:
      smart_enable: all
  - pymdownx.caret
  - pymdownx.details
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  - pymdownx.highlight:
      anchor_linenums: true
      line_spans: __span
      pygments_lang_class: true
  - pymdownx.critic
  - pymdownx.inlinehilite
  - pymdownx.keys
  - pymdownx.mark
  - pymdownx.smartsymbols
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  - pymdownx.tabbed:
      alternate_style: true
  - pymdownx.tasklist:
      custom_checkbox: true
  - pymdownx.tilde

# Page tree
nav:
  - Home: index.md
  - Getting Started:
      - Quick Start: getting_started.md
      - Compare Alternatives: comparison.md
      - Deploy with Helm: helm_deploy.md
  - How-To Guides:
      - Features Overview: features.md
      - Advanced Topics: advanced_topics.md
  - Reference:
      - API Reference: api_reference.md
      - Metrics & Dashboards: metrics_and_dashboards.md
      - FAQ: faq.md
  - Explanation:
      - How It Works: how_does_it_work.md
      - Security: security.md
  - Migration Guide: migration.md
  - Contributing:
      - Overview: contribute.md
      - Integration Testing: integration-testing.md
      - Local Development: local-development.md
      - Pull Request Process: pull-request-process.md
  - License: license.md